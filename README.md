# AraAssim-Vector-magnitude-and-arctangent-approximation

The objective of this research is to design a system for approximating magnitude and arctangent (phase) of vectors in Verilog HDL, the Verilog code, the testbench and all the required technology files are provided here with a description. Using the source codes, modeling at the behavioral level can done using Cadence Incisive tool, in addition to that, the system can be synthesized using Cadence RTL compiler tool so then its layout (using xh018 technology of X-FAB) can generated automatically using Cadence Encounter tool. According to the given task, the Input/Output sample resolution must be 16 bits, that means the inputs and output bit lengths must be chosen as that value (we use fixed-point system) and the suggested fraction length is 8 bits.

| File name                  | Description                                                                                                                                                                                                                                |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| simlink_functio.v          | top module description in Verilog HDL                                                                                                                                                                                                      |
| simlink_functio_tb.v       | its the test bench for verifying the Verilog description of the system at the behavioral level, this file is used along with the module description to generate timing diagrams.                                                           |
| simlink_functio_tb_final.v | this test bench is used for verifying the obtained logic gates and interconnects after generating the layout                                                                                                                               |
| in_re.dat                  | stands for real input, its a vector that consists of 5 test signals with amplitudes (1.25, 0.4, 0.56, 0.05 and 0.01) with frequencies (2, 1, and 50 Hz).                                                                                   |
| in_im.dat                  | stands for imaginary input, its the second input, its the same as the in_re.dat signal but with a phase shift of 90 degrees due to Hilbert transform.                                                                                      |
| magnitude_expected         | its one of the two outputs generated by Simulink, it contains the hexadecimal values of the expected magnitude, it is a reference signal that is used to verify the functionality of the system.                                           |
| alpha_arctangen_expected   | its the the second output generated by Simulink, it contains the hexadecimal expected values of the arctangent (phase of the signals), similar to the other output, its a reference signal used to verify the functionality of the system. |
| X-FAB_typ.tcl              | It is a script that shows the paths to the technological library of cells for typical corner case                                                                                                                                          |
| X-FAB_fast.tcl             | It is a script that shows the paths to the technological library of cells for fast corner case                                                                                                                                             |
| X-FAB_slow.tcl             | It is a script that shows the paths to the technological library of cells for slow corner case                                                                                                                                             |
| simulink_functio.sdc   | It is the timing constraint file that is used for both synthesis and layout generation                                                                     |
| Module_pins            | Its is text file (.txt) that is used to define the pins (inputs and outputs) of the Integrated circuit and their spacing/offsets.                          |
| simulink_functio_synth      | It is a script that is used for synthesis, with the help of this script, the netlist is generated (logic gates and its connections) for typical corner case, uses simulink_functio.sdc as a constraint file (clock frequency is 10MHz and uncertainty is 5%) |
| simulink_functio_synth_slow | It is a script that is used for synthesis, with the help of this script, the netlist is generated (logic gates and its connections) for slow corner case,  uses simulink_functio.sdc as a constraint file (clock frequency is 10MHz and uncertainty is 5%)   |                                                                                              
| simulink_functio_synth_fast | It is a script that is used for synthesis, with the help of this script, the netlist is generated (logic gates and its connections) for fast corner case,  uses simulink_functio.sdc as a constraint file (clock frequency is 10MHz and uncertainty is 5%)   | 
| simulink_functio_synth_20   | It is a script that is used for synthesis, with the help of this script, the netlist is generated (logic gates and its connections) for typical corner case but at the clock frequency of 20MHz instead of 10MHz and uncertainty is 5%                       |
| MMMC.tcl                    | A script for generating the layout that contains information about the technology library, including information about the time constraints of the device.                                                                                                  |
| Simulink_function_PaR       | It is a script for automatic layout generation         



To create the layout of the digital IC for this project, it is necessary to go through the following three stages:

1. Creating the description of the device at the behavioral level (in Verilog HDL) and running the simulation to generate timing diagrams for the device, at this stage we may use Cadence Incisive, with the help of the top module verilog .v file (simulink_functio.v) and the testbench (simulink_functio_tb.v).

2. Performing logical synthesis of the device with reference to the technological library, at the end of this stage, we obtain the netlist of the device which consists of logic gates and interconnections.

3. Generating a layout from the list of logical gates and interconnects obtained at the synthesis stage.

In order to build this project, you need to:
1. Download the Source folder, it contains the files " simulink_functio.v", " simulink_functio.sdc", " simulink_functio_tb.v ", " simulink_functio_tb_final.v", " Module_pins ", " in_im.dat", "in_re.dat" , “alpha_arctangen_expected.dat”, “magnitude_expected.dat”.

2. Download the Scripts folder, the scripts listed here should be available "X-FAB_typ.tcl", "X-FAB_slow.tcl", "X-FAB_fast.tcl", " simulink_functio_synth.tcl", " simulink_functio_synth_20.tcl", " simulink_functio_synth_slow.tcl, " simulink_functio_synth_fast.tcl”, " MMMC.tcl "," Simulink_function_PaR ", in scripts" X-FAB_typ.tcl "," X-FAB_slow.tcl "," X-FAB_fast.tcl "," MMMC. tcl " , please pay attention to the paths to the technology library files in accordance with their location in your system.

3. (This stage is optional), you may create timing diagrams in Cadence Incisive or Xilinx for example using the Verilog code and its testbench but in this case, the device’s correct functionality has been verified so you may do it only if you want to.

4. Create a file to perform logic synthesis, in this coursework (Cadence RTL complier was used) and in the software run the script " simulink_functio_synth.tcl ".

5. To check timing and area reports for typical, slow and fast corners, it is required to create a folder to save the timing diagrams, then you may run the " simulink_functio_synth.tcl ", " simulink_functio_synth_slow.tcl, " simulink_functio_synth_fast.tcl” to see the reports for different corners.

6. Next step is generating the layout, you need to check that the "simulink_functio_synth.v" file is located in the Outputs folder, that file is created automatically after logical synthesis. And after that a folder must be created from which the script will be launched for layout generation, in this work we used Cadence Encounter software and the file was named “Encounter”.

7. Run the script “Simulink_function_PaR.tcl”, this is the main script that contains all steps of creating the layout.

8. After running the script “Simulink_function_PaR.tcl” , some files will be generated and will be located in the Outputs, these files include "simulink_functio.def", "top_netlist.v" (for simulation), "physical_netlist.v” (to be import into the software, in this project, Cadence Virtuoso was used and at this stage DRC and LVS verification were performed), "simulink_functio_MAX.sdf", " simulink_functio _MIN.sdf" (can be used for simulation, taking into account the influence of the effects obtained during layout creation).

It is critical to note that after generating the layout, different timing reports are created, you may read them in the “timing reports” file, the timing reports are especially important for post-Route and signoff stages for both setup and hold, in addition to that three other verifications are done: geometry, DRC and connectivity.

9. After synthesis and layout generation stages, functional verification should be carried out to make sure that the device works properly. To check the functional correctness of the Verilog module after the topology generation stage, we use a different test bench file, which is named “simulink_functio_tb_final.v” which is located in Source folder. 

